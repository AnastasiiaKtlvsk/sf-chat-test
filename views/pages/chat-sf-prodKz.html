<style type="text/css"> 
 .embeddedServiceHelpButton {
     display: none !important;
 }

.embeddedServiceHelpButton .helpButton .uiButton {
    background-color: #f8ff13;
    font-family: "Arial", sans-serif;
    color: #000;
}
  .embeddedServiceHelpButton .helpButton {
      position: relative;
    bottom: 15px;
    right: 12px;
    height: 15px;
  }
  .embeddedServiceHelpButton .helpButton .uiButton {
      height: 30px;
  }
.embeddedServiceHelpButton .helpButton .helpButtonDisabled {
  display: none;
  }
.embeddedServiceHelpButton .uiButton .helpButtonLabel .message {
    overflow: visible !important;
}
.embeddedServiceLiveAgentStateChatHeader:not(.alert) .message {
    max-width: 82%;
    overflow: visible;
    white-space: normal;
}
.embeddedServiceLiveAgentStateChatHeader .content {
    height: 100%;
}
.message {
    background-color: transparent;
    border-style: hidden;
    border-width: 0px;
    color: #000;
    font-size: small;
    font-weight: bold;
} 
.messageArea .messageWrapper .chatMessage {
  min-width: 100%;
  }   
  .embeddedServiceLiveAgentStateChatHeader:not(.alert) .message{ color:white; max-wight:100%}
  .embeddedServiceSidebarHeader .shortHeaderContent {backgroung-color: #F7E918}
  .headerTextContent {color:black} 
  .embeddedServiceSidebarMinimizedDefaultUI .helpButton { background-color: #f8ff13 !important;}
  .embeddedServiceLiveAgentStateChatAvatar .avatar : { background-repeat: no-repeat;}
  .embeddedServiceLiveAgentStateChatHeader .message { max-width: 100% !important;}
  .embeddedServiceSidebarMinimizedDefaultUI.helpButton{ background-color: #f8ff13; border-color: #f8ff13; height: 30px;}
  .embeddedServiceSidebarMinimizedDefaultUI.minimizedContainer:hover { background-color: #f8ff13; border-color: #f8ff13; height: 30px;}
   .embeddedServiceSidebarHeader #headerSubtext { color: white !important;}
 .embeddedServiceSidebarMinimizedDefaultUI { height: 30px; background-color: #F8FF13; border-color: #F8FF13;}
 .embeddedServiceLiveAgentStateChatAvatar .avatar : { background-repeat: no-repeat;} 
  .embeddedServiceSidebarMinimizedDefaultUI { height: 30px; background-color: #F8FF13; border-color: #F8FF13;}
.embeddedServiceSidebarMinimizedDefaultUI.minimizedContainer:focus {color: #F8FF13 !important; background-color: #F8FF13 !important; height: 30px; }
  .headerTextContent { color: #ffffff;}
  .embeddedServiceHelpButton .helpButton .uiButton{
        display: none;
  }
  .embeddedServiceSidebar .sidebarBody {overflow: scroll;}
  .embeddedServiceLiveAgentStateChatInputFooter .chasitorControls .uiInput{
  -webkit-user-select: text;
  -khtml-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
}
</style> 
<script type="text/javascript" src="https://service.force.com/embeddedservice/5.0/esw.min.js"></script> 
<script type="text/javascript"> 
  var chatUuid;
window.addEventListener('hashchange', function(e) {
var url = window.location.href;
embedded_svc.liveAgentAPI.sendCustomEvent(chatUuid ,url);
});
var initESW=function(gslbBaseURL) {
    embedded_svc.settings.displayHelpButton=true; 
     embedded_svc.settings.language = 'ru';
    embedded_svc.settings.defaultMinimizedText = 'Есть вопросы?';
    embedded_svc.settings.enabledFeatures=['LiveAgent'];
    embedded_svc.settings.entryFeature='LiveAgent';
  embedded_svc.settings.autoOpenPostChat = true;
    embedded_svc.settings.extraPrechatInfo=[ {
        "entityName":"Case",
        "entityFieldMaps": [ {
            "isExactMatch": false, "fieldName": "Subject", "doCreate": false, "doFind": false, "label": "Subject"
        }
        ]
    }
    ,
    {
        "entityName":"Contact",
        "entityFieldMaps": [ {
            "doCreate": false, "doFind": false, "fieldName": "LastName", "isExactMatch": false, "label": "Last Name"
        }
        ,
        {
            "doCreate": false, "doFind": false, "fieldName": "FirstName", "isExactMatch": false, "label": "First Name"
        }
        ],
    }
    ];
    embedded_svc.settings.extraPrechatFormDetails=[ {
        "label": "Email", "transcriptFields": ["PreChat_Form_Email__c"]
    }
    ,
    {
        "label": "Phone", "transcriptFields": ["PreChat_Form_Phone__c"]
    }
    ,
    {
        "label": "Last Name", "transcriptFields": ["PreChat_Form_Name__c"]
    }
    ,
    {
        "label": "Subject", "transcriptFields": ["Prechat_Form_Subject__c"]
    }
    ,
    {
        "label": "Start Url", "transcriptFields": ["Prechat_StartUrl__c"], "value": window. location.href, "displayToAgent": false
    }
    ];
    embedded_svc.addEventHandler("onChatEstablished", function(data) {
        console.log("onChatEstablished event was fired.  liveAgentSessionKey was " + data. liveAgentSessionKey);
        chatUuid=data.liveAgentSessionKey;
    }
    );
    embedded_svc.init(
	'https://parimatch.my.salesforce.com',
	'https://parimatch.force.com',
	gslbBaseURL,
	'00D2p00000139LC',
	'CHAT_RU_MOBILE',
	{
		baseLiveAgentContentURL: 'https://c.la1-c2-fra.salesforceliveagent.com/content',
		deploymentId: '5722p0000000G2t',
		buttonId: '5732p0000000Gkk',
		baseLiveAgentURL: 'https://d.la1-c2-fra.salesforceliveagent.com/chat',
		eswLiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I2p000000kBOGEA2_171dec992c4',
		isOfflineSupportEnabled: false
	}
);
};
 if (!window.embedded_svc) {    
    var s = document.createElement('script');           
    s.setAttribute('src', 'https://parimatch--staging.my.salesforce.com/embeddedservice/5.0/esw.min. js');        
    s.onload = function() {                
        initESW(null);            
    };            
    document.body.appendChild(s);        
} else {            
    initESW('https://service.force.com');                    
}    

 var waitForButtonEnabled = function(){
    var observer = new MutationObserver(function (mutations, me) {
    var button = document.getElementsByClassName('uiButton helpButtonEnabled')[0];
    if (button) {
        me.disconnect(); 
        return;
    }
 });

    observer.observe(document, {
            childList: true,
            subtree: true
        });
    }
    waitForButtonEnabled();

</script>